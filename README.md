The_Pereval
REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ –≥–æ—Ä–Ω—ã—Ö –ø–µ—Ä–µ–≤–∞–ª–∞—Ö. –ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥–æ—Ä–Ω—ã—Ö –ø–µ—Ä–µ–≤–∞–ª–∞—Ö —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º.

üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–æ–≤ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–µ—Ä–µ–≤–∞–ª–µ
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–æ–≤ (–≤ —Å—Ç–∞—Ç—É—Å–µ "–Ω–æ–≤—ã–π")
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
Swagger UI : /swagger/
ReDoc : /redoc/
üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–∞
POST /submitData/

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ –ø–µ—Ä–µ–≤–∞–ª–µ.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "beauty_title": "–ø–µ—Ä. ",
  "title": "–üere–≤–∞–ª",
  "other_titles": "–î—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "connect": "–•–æ—Ä–æ—à–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ",
  "user": {
    "email": "user@example.com",
    "last_name": "–ò–≤–∞–Ω–æ–≤",
    "first_name": "–ò–≤–∞–Ω",
    "middle_name": "–ò–≤–∞–Ω–æ–≤–∏—á",
    "phone": "+79991234567"
  },
  "coords": {
    "latitude": 45.123456,
    "longitude": 38.123456,
    "height": 1500
  },
  "level": {
    "winter": "1A",
    "summer": "1B",
    "autumn": "2A",
    "spring": "1B"
  },
  "images": [
    {
      "file_path": "/path/to/image1.jpg",
      "title": "–°–µ–¥–ª–æ–≤–∏–Ω–∞"
    }
  ]
}
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "status": 200,
  "message": null,
  "id": 1
}
```
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–∞ –ø–æ ID
GET /submitData/{id}/

–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Ä–µ–≤–∞–ª–µ –ø–æ –µ–≥–æ ID.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "id": 1,
  "beauty_title": "–ø–µ—Ä. ",
  "title": "–üere–≤–∞–ª",
  "other_titles": "–î—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "connect": "–•–æ—Ä–æ—à–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ",
  "add_time": "2023-12-01T10:30:00Z",
  "status": "new",
  "user": {
    "email": "user@example.com",
    "last_name": "–ò–≤–∞–Ω–æ–≤",
    "first_name": "–ò–≤–∞–Ω",
    "middle_name": "–ò–≤–∞–Ω–æ–≤–∏—á",
    "phone": "+79991234567"
  },
  "coords": {
    "latitude": 45.123456,
    "longitude": 38.123456,
    "height": 1500
  },
  "level": {
    "winter": "1A",
    "summer": "1B",
    "autumn": "2A",
    "spring": "1B"
  },
  "images": [
    {
      "file_path": "/path/to/image1.jpg",
      "title": "–°–µ–¥–ª–æ–≤–∏–Ω–∞"
    }
  ]
}
```
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–∞
PATCH /submitData/{id}/update/

–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å –ø–µ—Ä–µ–≤–∞–ª–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å 'new').

‚ö†Ô∏è –í–∞–∂–Ω–æ : –ù–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (email, –§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω)

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "beauty_title": "–ø–µ—Ä. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π",
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–∞–ª",
  "coords": {
    "latitude": 46.123456,
    "longitude": 39.123456,
    "height": 1600
  },
  "level": {
    "winter": "2A",
    "summer": "2B"
  }
}
```
–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:

```json
{
  "state": 1,
  "message": "–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
}
```
–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:

```json
{
  "state": 0,
  "message": "–ó–∞–ø–∏—Å—å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –µ—ë —Å—Ç–∞—Ç—É—Å: –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É"
}
```
4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–≤–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /submitData/user/?user__email={email}

–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```bash

GET /submitData/user/?user__email=user@example.com
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
  {
    "id": 1,
    "beauty_title": "–ø–µ—Ä. ",
    "title": "–üere–≤–∞–ª",
    "other_titles": "–î—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
    "connect": "–•–æ—Ä–æ—à–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ",
    "add_time": "2023-12-01T10:30:00Z",
    "status": "new",
    "user": {
      "email": "user@example.com",
      "last_name": "–ò–≤–∞–Ω–æ–≤",
      "first_name": "–ò–≤–∞–Ω",
      "middle_name": "–ò–≤–∞–Ω–æ–≤–∏—á",
      "phone": "+79991234567"
    },
    "coords": {
      "latitude": 45.123456,
      "longitude": 38.123456,
      "height": 1500
    },
    "level": {
      "winter": "1A",
      "summer": "1B",
      "autumn": "2A",
      "spring": "1B"
    },
    "images": []
  }
]
```
üìä –°—Ç–∞—Ç—É—Å—ã –ø–µ—Ä–µ–≤–∞–ª–æ–≤ 

new - –Ω–æ–≤—ã–π (–º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)

pending - –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É

accepted - –º–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ

rejected - –º–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–Ω—è—Ç–∞

üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

Python 3.10+

Django 4.2

Django REST Framework

SQLite/PostgreSQL (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ä–µ–¥—ã)

drf-yasg –¥–ª—è Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

drf-spectacular –¥–ª—è OpenAPI 3.0

üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash

git clone https://github.com/OparinAV/The-Pereval.git
cd The_Pereval
```
2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```
3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

pip install -r requirements.txt
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

python manage.py migrate
5. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

python manage.py createsuperuser

6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

python manage.py runserver

7. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

API : http://localhost:8000/

Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è : http://localhost:8000/submitData/swagger/

ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è : http://localhost:8000/submitData/redoc/

–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å : http://localhost:8000/admin/

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

python manage.py test
